---
title: "Two Powerful Patterns for Navigation UI"
date: 2020-06-02
author: Thomas O'Neill
---

A website's navigation interface is a fundamental part of the user experience.
As a web developer or designer, you'll be creating headers, footers and/or
sidebars for most projects. You want to spend more time creating a unique site
for your client, and less time re-implementing the same feature over again.

Let's get straight into a code example to get a sense of what we're dealing
with. Here's a similar header to the one we use for [the bearjam.dev site](/):

<iframe src="https://codesandbox.io/embed/github/mysterybear/blog-post-demos/tree/master/packages/header-3" />

Now let's break down what it does:

- It's **responsive**: the header adapts to changes in screen size (specifically
  at 640px width breakpoint, try dragging the view narrower).
- When the screen width is below the breakpoint, **there is a toggle menu to
  expand/collapse the mobile header**.
- When the screen width is 640px or greater, the navigation links are displayed
  horizontally on the desktop header.
- When the mobile header is expanded, there's a **staggered animation** to bring
  them into view (and this is reversed upon collapse).
- **The active link indication is different between mobile and desktop**: on
  mobile, the active link text colour is blue; on desktop, the active link has a
  blue underline.
- Upon navigation **the blue underline animates between links**.

So there's quite a lot going on! But believe it or not, with good tools and
patterns, we bring this all together and even make it readable, reusable and so
on.

- Wonderful SSR-friendly React animation library **Framer Motion**.
- A sane component hierarchy, what we call **`Root > Backdrop + Container`**
  pattern.
- The **function as child component** pattern

```jsx
<Root>
  <Backdrop />
  <Container>
    <BurgerMenu />
    <MobileNav />
    <DesktopNav />
  </Container>
</Root>
```

The header contains two sub-trees that render conditionally

You may also notice that the small-screen navigation only appears as a drop-down
after pressing the burger menu. Furthermore, the indicator for the currently
visited (active) link is different here compared with the large-screen
navigation (pink text colour vs. pink text under-line).

There are two key patterns at play here. The first pattern is for the pop-over
functionality that we use for our mobile navigation drop-down, but this could be
also be used for any expandable/collapsable component e.g. sidebars, modals etc.

## Pattern #1: The "Root > Backdrop + Container"

```jsx
<Root>
  <Backdrop />
  <Container>{children}</Container>
</Root>
```

## Pattern #2: Function as Child Component Nav

```jsx
const NavLink = ({ children, href, label, i, ...props }) => {
  const { pathname } = useRouter()
  const pathBeginning = `/${pathname.split("/")[1]}`
  const active = pathBeginning === href
  return children ? (
    children({ href, label, active, ...props }, i)
  ) : (
    <Link key={href} href={href} {...props}>
      <a>{label}</a>
    </Link>
  )
}
export const Nav = ({ children, ...props }) => {
  return (
    <motion.nav {...props}>
      {links.map((linkProps, i) => (
        <NavLink
          key={linkProps.href}
          children={children}
          {...linkProps}
          i={i}
        />
      ))}
    </motion.nav>
  )
}
```

<!-- What we came up with turned out to be reusable sidebars, footers, modals and so on. -->
